// translations.js

const translations = {
  en: {
    "settings": "Settings",
    "language": "Language",
    "profile": "Profile",
    "reset_progress": "Reset Progress",
    "exams": "Exams",
    "bookmarks": "Bookmarks",
    "profile_tab": "Profile",
    "exams_title": "Exams",
    "bookmarks_title": "Bookmarked Questions",
    "update_profile": "Update Profile",
    "name_label": "Name:",
    "name_placeholder": "Enter your name",
    "choose_avatar": "Choose Avatar:",
    "save": "Save",
    "cancel": "Cancel",
    "exams_completed": "Exams Completed:",
    "questions_answered": "Questions Answered:",
    "average_score": "Average Score:",
    "time_spent": "Time Spent:",
    "leave_exam": "â† Leave Exam",
    "submit": "Submit",
    "bookmark": "Bookmark",
    "start": "Start",
    "leaderboard": "Leaderboard",
    "completed": "Completed",
    "not_completed": "Not Completed",
    "questions": "Questions",
    "best": "Best",
    "none": "None",
    "writeAnswer": "Type your answer",
    "enter_name": "Enter your name:",
    "name_taken": "This name is already taken. Please choose another.",
    "profile_updated": "Profile updated!",
    "reset_confirm": "Are you sure you want to reset all progress and bookmarks?",
    "progress_reset": "Progress reset!",
    "alreadyBookmarked": "This question is already bookmarked!",
    "bookmarked": "Bookmarked!",
    "credits": "This Game Was Made By: Ali Al-Junibi / Mumil Al-Junibi"
  },
  ar: {
    "settings": "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
    "language": "Ø§Ù„Ù„ØºØ©",
    "profile": "Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",
    "reset_progress": "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ‚Ø¯Ù…",
    "exams": "Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª",
    "bookmarks": "Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª",
    "profile_tab": "Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",
    "exams_title": "Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª",
    "bookmarks_title": "Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©",
    "update_profile": "ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",
    "name_label": "Ø§Ù„Ø§Ø³Ù…:",
    "name_placeholder": "Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ",
    "choose_avatar": "Ø§Ø®ØªØ± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ©:",
    "save": "Ø­ÙØ¸",
    "cancel": "Ø¥Ù„ØºØ§Ø¡",
    "exams_completed": "Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:",
    "questions_answered": "Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø¬Ø§Ø¨Ø©:",
    "average_score": "Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…Ø¹Ø¯Ù„:",
    "time_spent": "Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªØºØ±Ù‚:",
    "leave_exam": "Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±",
    "submit": "Ø¥Ø±Ø³Ø§Ù„",
    "bookmark": "Ø­ÙØ¸",
    "start": "Ø§Ø¨Ø¯Ø£",
    "leaderboard": "Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†",
    "completed": "Ù…ÙƒØªÙ…Ù„",
    "not_completed": "ØºÙŠØ± Ù…ÙƒØªÙ…Ù„",
    "questions": "Ø£Ø³Ø¦Ù„Ø©",
    "best": "Ø§Ù„Ø£ÙØ¶Ù„",
    "none": "Ù„Ø§ ÙŠÙˆØ¬Ø¯",
    "writeAnswer": "Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨ØªÙƒ",
    "enter_name": "Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ:",
    "name_taken": "Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ø³Ù… Ø¢Ø®Ø±.",
    "profile_updated": "ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ!",
    "reset_confirm": "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠØ©ØŸ",
    "progress_reset": "ØªÙ…Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ‚Ø¯Ù…!",
    "alreadyBookmarked": "Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù…Ø­ÙÙˆØ¸ Ø¨Ø§Ù„ÙØ¹Ù„!",
    "bookmarked": "ØªÙ… Ø§Ù„Ø­ÙØ¸!",
    "credits": "ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨ÙˆØ§Ø³Ø·Ø©: Ø¹Ù„ÙŠ Ø§Ù„Ø¬Ù†ÙŠØ¨ÙŠ / Ù…Ø¤Ù…Ù„ Ø§Ù„Ø¬Ù†ÙŠØ¨ÙŠ"
  }
};

function translateUI(language) {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    const translation = translations[language]?.[key];
    if (translation) el.textContent = translation;
  });
}

function toggleLanguage() {
  const currentLang = document.documentElement.lang;
  const newLang = currentLang === 'en' ? 'ar' : 'en';
  localStorage.setItem('lang', newLang); // ðŸ”¥ Save it
  document.documentElement.lang = newLang;
  document.body.dir = newLang === 'ar' ? 'rtl' : 'ltr';

  translateUI(newLang);
  loadExams();       // ðŸ”¥ Rebuild exam cards in new language
  translatePage();   // ðŸ”¥ Update all translations (especially dynamic ones)
}